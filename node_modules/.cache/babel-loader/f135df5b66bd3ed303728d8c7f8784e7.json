{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar calculateTotalDuration = ({\n  duration = 0.3,\n  delay = 0,\n  overlay = 0\n}) => duration + delay - overlay || 0;\n\nvar isUndefined = val => val === undefined;\n\nfunction getSequenceId(sequenceIndex, sequenceId, defaultValue) {\n  if (isUndefined(sequenceId) && isUndefined(sequenceIndex)) {\n    return defaultValue || 0;\n  }\n\n  if (sequenceIndex && sequenceIndex >= 0) {\n    return sequenceIndex;\n  }\n\n  if (sequenceId) {\n    return sequenceId;\n  }\n\n  return 0;\n}\n\nconst DEFAULT_DURATION = 0.3;\nconst DEFAULT_EASE_TYPE = 'linear';\nconst DEFAULT_DIRECTION = 'normal';\nconst DEFAULT_FILLMODE = 'none';\nconst RUNNING = 'running';\nconst ALL = 'all';\nconst AnimateContext = React.createContext({\n  animationStates: {},\n  register: data => {}\n});\n\nfunction AnimateGroup({\n  play,\n  sequences = [],\n  children\n}) {\n  const [animationStates, setAnimationStates] = React.useState({});\n  const animationsRef = React.useRef({});\n  const register = React.useCallback(data => {\n    const {\n      sequenceIndex,\n      sequenceId\n    } = data;\n\n    if (!isUndefined(sequenceId) || !isUndefined(sequenceIndex)) {\n      animationsRef.current[getSequenceId(sequenceIndex, sequenceId)] = data;\n    }\n  }, []);\n  React.useEffect(() => {\n    const sequencesToAnimate = Array.isArray(sequences) && sequences.length ? sequences : Object.values(animationsRef.current);\n    const localAnimationState = {};\n    (play ? sequencesToAnimate : [...sequencesToAnimate].reverse()).reduce((previous, {\n      sequenceId,\n      sequenceIndex,\n      duration = DEFAULT_DURATION,\n      delay,\n      overlay\n    }, currentIndex) => {\n      const id = getSequenceId(sequenceIndex, sequenceId, currentIndex);\n      const currentTotalDuration = calculateTotalDuration({\n        duration,\n        delay,\n        overlay\n      });\n      const totalDuration = currentTotalDuration + previous;\n      localAnimationState[id] = {\n        play,\n        pause: !play,\n        delay: currentIndex === 0 ? delay || 0 : delay ? previous + delay : previous,\n        controlled: true\n      };\n      return totalDuration;\n    }, 0);\n    setAnimationStates(localAnimationState); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [play]);\n  return React.createElement(AnimateContext.Provider, {\n    value: {\n      animationStates,\n      register\n    }\n  }, children);\n}\n\nvar secToMs = ms => (ms || 0) * 1000;\n\nfunction Animate(props) {\n  const {\n    play,\n    children,\n    render,\n    start,\n    end,\n    complete = '',\n    onComplete,\n    delay = 0,\n    duration = DEFAULT_DURATION,\n    easeType = DEFAULT_EASE_TYPE,\n    sequenceId,\n    sequenceIndex\n  } = props;\n  const onCompleteTimeRef = React.useRef();\n  const [style, setStyle] = React.useState(start || {});\n  const {\n    register,\n    animationStates = {}\n  } = React.useContext(AnimateContext);\n  const id = getSequenceId(sequenceIndex, sequenceId);\n  React.useEffect(() => {\n    if (!isUndefined(sequenceIndex) && sequenceIndex >= 0 || sequenceId) {\n      register(props);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  React.useEffect(() => {\n    const animationState = animationStates[id] || {};\n    setStyle(Object.assign(Object.assign({}, play || animationState.play ? end : start), {\n      transition: `${ALL} ${duration}s ${easeType} ${parseFloat(animationState.delay || delay)}s`\n    }));\n\n    if (play && (complete || onComplete)) {\n      onCompleteTimeRef.current = setTimeout(() => {\n        complete && setStyle(complete);\n        onComplete && onComplete();\n      }, secToMs(parseFloat(animationState.delay || delay) + duration));\n    }\n\n    return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\n  }, [id, animationStates, play, duration, easeType, delay, onComplete, start, end, complete]);\n  return render ? render({\n    style\n  }) : React.createElement(\"div\", {\n    style: style\n  }, children);\n}\n\nvar camelCaseToDash = camelCase => camelCase ? camelCase.replace(/[A-Z]/g, c => `-${c.toLowerCase()}`) : '';\n\nconst generateKeyframes = keyframes => {\n  const animationLength = keyframes.length;\n  return keyframes.reduce((previous, keyframe, currentIndex) => {\n    const keyframePercentage = animationLength === 2 ? currentIndex * 100 : parseFloat((100 / (animationLength - 1)).toFixed(2)) * currentIndex;\n\n    if (typeof keyframe === 'string') {\n      return `${previous} ${keyframePercentage}% {${keyframe}}`;\n    }\n\n    const keys = Object.keys(keyframe);\n\n    if (keys.length && isNaN(+keys[0])) {\n      const keyframeContent = keys.reduce((acc, key) => `${acc} ${camelCaseToDash(key)}: ${keyframe[key]};`, '');\n      return `${previous} ${keyframePercentage}% {${keyframeContent}}`;\n    }\n\n    return `${previous} ${Object.keys(keyframe)[0]}% {${Object.values(keyframe)[0]}}`;\n  }, '');\n};\n\nfunction createStyle({\n  keyframes,\n  animationName\n}) {\n  return `@keyframes ${animationName} {${generateKeyframes(keyframes)}}`;\n}\n\nfunction createTag({\n  keyframes,\n  animationName\n}) {\n  let styleTag = document.querySelector('style[data-id=rsi]');\n  let index;\n\n  if (!styleTag) {\n    styleTag = document.createElement('style');\n    styleTag.setAttribute('data-id', 'rsi');\n    document.head.appendChild(styleTag);\n  }\n\n  try {\n    // @ts-ignore\n    index = styleTag.sheet.cssRules.length;\n  } catch (e) {\n    index = 0;\n  }\n\n  try {\n    // @ts-ignore\n    styleTag.sheet.insertRule(createStyle({\n      keyframes,\n      animationName\n    }), index);\n  } catch (e) {\n    console.error('react simple animate, error found during insert style ', e); // eslint-disable-line no-console\n  }\n\n  return {\n    styleTag,\n    index\n  };\n}\n\nvar deleteRules = (sheet, deleteName) => {\n  const index = Object.values(sheet.cssRules).findIndex(({\n    name\n  }) => name === deleteName);\n\n  if (index >= 0) {\n    sheet.deleteRule(index);\n  }\n};\n\nvar createRandomName = () => `RSI-${Math.random().toString(36).substr(2, 9)}`;\n\nvar getPlayState = pause => pause ? 'paused' : RUNNING;\n\nfunction AnimateKeyframes(props) {\n  const {\n    children,\n    play = false,\n    pause = false,\n    render,\n    duration = DEFAULT_DURATION,\n    delay = 0,\n    easeType = DEFAULT_EASE_TYPE,\n    direction = DEFAULT_DIRECTION,\n    fillMode = DEFAULT_FILLMODE,\n    iterationCount = 1,\n    sequenceIndex,\n    keyframes,\n    sequenceId\n  } = props;\n  let pauseValue;\n  const animationNameRef = React.useRef({\n    forward: '',\n    reverse: ''\n  });\n  const controlled = React.useRef(false);\n  const styleTagRef = React.useRef({\n    forward: {\n      sheet: {}\n    },\n    reverse: {\n      sheet: {}\n    }\n  });\n  const id = getSequenceId(sequenceIndex, sequenceId);\n  const {\n    register,\n    animationStates = {}\n  } = React.useContext(AnimateContext);\n  const animateState = animationStates[id] || {};\n  const [, forceUpdate] = React.useState(false);\n  React.useEffect(() => {\n    const styleTag = styleTagRef.current;\n    const animationName = animationNameRef.current;\n    animationNameRef.current.forward = createRandomName();\n    let result = createTag({\n      animationName: animationNameRef.current.forward,\n      keyframes\n    });\n    animationNameRef.current.reverse = createRandomName();\n    styleTagRef.current.forward = result.styleTag;\n    result = createTag({\n      animationName: animationNameRef.current.reverse,\n      keyframes: keyframes.reverse()\n    });\n    styleTagRef.current.reverse = result.styleTag;\n    register(props);\n\n    if (play) {\n      forceUpdate(true);\n    }\n\n    return () => {\n      deleteRules(styleTag.forward.sheet, animationName.forward);\n      deleteRules(styleTag.reverse.sheet, animationName.reverse);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (animateState.controlled && !controlled.current) {\n    pauseValue = animateState.pause;\n\n    if (!animateState.pause) {\n      controlled.current = true;\n    }\n  } else {\n    pauseValue = pause;\n  }\n\n  const style = {\n    animation: `${duration}s ${easeType} ${animateState.delay || delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(pauseValue)} ${((animateState.controlled ? animateState.play : play) ? animationNameRef.current.forward : animationNameRef.current.reverse) || ''}`\n  };\n  return render ? render({\n    style\n  }) : React.createElement(\"div\", {\n    style: style || {}\n  }, children);\n}\n\nfunction useAnimate(props) {\n  const {\n    start,\n    end,\n    complete,\n    onComplete,\n    delay = 0,\n    duration = DEFAULT_DURATION,\n    easeType = DEFAULT_EASE_TYPE\n  } = props;\n  const transition = React.useMemo(() => `${ALL} ${duration}s ${easeType} ${delay}s`, [duration, easeType, delay]);\n  const [animate, setAnimate] = React.useState({\n    isPlaying: false,\n    style: Object.assign(Object.assign({}, start), {\n      transition\n    })\n  });\n  const {\n    isPlaying,\n    style\n  } = animate;\n  const onCompleteTimeRef = React.useRef();\n  React.useEffect(() => {\n    if ((onCompleteTimeRef.current || complete) && isPlaying) {\n      onCompleteTimeRef.current = setTimeout(() => {\n        if (onComplete) {\n          onComplete();\n        }\n\n        if (complete) {\n          setAnimate(Object.assign(Object.assign({}, animate), {\n            style: complete\n          }));\n        }\n      }, secToMs(delay + duration));\n    }\n\n    return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\n  }, [isPlaying]);\n  return {\n    isPlaying,\n    style,\n    play: React.useCallback(isPlaying => {\n      setAnimate(Object.assign(Object.assign({}, animate), {\n        style: Object.assign(Object.assign({}, isPlaying ? end : start), {\n          transition\n        }),\n        isPlaying\n      }));\n    }, [])\n  };\n}\n\nfunction useAnimateKeyframes(props) {\n  const {\n    duration = DEFAULT_DURATION,\n    delay = 0,\n    easeType = DEFAULT_EASE_TYPE,\n    direction = DEFAULT_DIRECTION,\n    fillMode = DEFAULT_FILLMODE,\n    iterationCount = 1,\n    keyframes\n  } = props;\n  const animationNameRef = React.useRef({\n    forward: '',\n    reverse: ''\n  });\n  const styleTagRef = React.useRef({\n    forward: {\n      sheet: {}\n    },\n    reverse: {\n      sheet: {}\n    }\n  });\n  const {\n    register\n  } = React.useContext(AnimateContext);\n  const [isPlaying, setIsPlaying] = React.useState(null);\n  const [isPaused, setIsPaused] = React.useState(false);\n  const playRef = React.useRef();\n  React.useEffect(() => {\n    const styleTag = styleTagRef.current;\n    const animationName = animationNameRef.current;\n    animationNameRef.current.forward = createRandomName();\n    let result = createTag({\n      animationName: animationNameRef.current.forward,\n      keyframes\n    });\n    styleTagRef.current.forward = result.styleTag;\n    animationNameRef.current.reverse = createRandomName();\n    result = createTag({\n      animationName: animationNameRef.current.reverse,\n      keyframes: keyframes.reverse()\n    });\n    styleTagRef.current.reverse = result.styleTag;\n    register(props);\n    return () => {\n      deleteRules(styleTag.forward.sheet, animationName.forward);\n      deleteRules(styleTag.reverse.sheet, animationName.reverse);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  playRef.current = playRef.current ? playRef.current : isPlay => setIsPlaying(isPlay);\n  const style = {\n    animation: `${duration}s ${easeType} ${delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(isPaused)} ${isPlaying === null ? '' : isPlaying ? animationNameRef.current.forward : animationNameRef.current.reverse}`\n  };\n  return {\n    style,\n    play: playRef.current,\n    pause: setIsPaused,\n    isPlaying: !!isPlaying\n  };\n}\n\nfunction createArrayWithNumbers(length) {\n  return Array.from({\n    length\n  }, () => null);\n}\n\nfunction useAnimateGroup(props) {\n  const {\n    sequences = []\n  } = props;\n  const defaultArray = createArrayWithNumbers(sequences.length).map((_, index) => props.sequences[index].start);\n  const [styles, setStyles] = React.useState(defaultArray);\n  const [isPlaying, setPlaying] = React.useState(false);\n  const animationNamesRef = React.useRef([]);\n  const styleTagRef = React.useRef([]);\n  const playRef = React.useRef();\n  React.useEffect(() => {\n    sequences.forEach(({\n      keyframes = false\n    }, i) => {\n      if (!Array.isArray(keyframes)) {\n        return;\n      }\n\n      if (!animationNamesRef.current[i]) {\n        animationNamesRef.current[i] = {};\n        styleTagRef.current[i] = {};\n      }\n\n      animationNamesRef.current[i].forward = createRandomName();\n      let result = createTag({\n        animationName: animationNamesRef.current[i].forward,\n        keyframes\n      });\n      styleTagRef.current[i].forward = result.styleTag;\n      animationNamesRef.current[i].reverse = createRandomName();\n      result = createTag({\n        animationName: animationNamesRef.current[i].reverse,\n        keyframes: keyframes.reverse()\n      });\n      styleTagRef.current[i].reverse = result.styleTag;\n    });\n    return () => Object.values(animationNamesRef).forEach(({\n      forward,\n      reverse\n    }, i) => {\n      if (!styleTagRef[i]) {\n        return;\n      }\n\n      deleteRules(styleTagRef[i].sheet, forward);\n      deleteRules(styleTagRef[i].sheet, reverse);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  playRef.current = playRef.current ? playRef.current : isPlay => {\n    let totalDuration = 0;\n    const animationRefWithOrder = isPlay ? animationNamesRef.current : [...animationNamesRef.current].reverse();\n    const styles = (isPlay ? sequences : [...sequences].reverse()).map((current, currentIndex) => {\n      const {\n        duration = DEFAULT_DURATION,\n        delay = 0,\n        overlay,\n        keyframes,\n        iterationCount = 1,\n        easeType = DEFAULT_EASE_TYPE,\n        direction = DEFAULT_DIRECTION,\n        fillMode = DEFAULT_FILLMODE,\n        end = {},\n        start = {}\n      } = current;\n      const delayDuration = currentIndex === 0 ? delay : totalDuration;\n      const transition = `${ALL} ${duration}s ${easeType} ${delayDuration}s`;\n      totalDuration = calculateTotalDuration({\n        duration,\n        delay,\n        overlay\n      }) + totalDuration;\n      return keyframes ? {\n        animation: `${duration}s ${easeType} ${delayDuration}s ${iterationCount} ${direction} ${fillMode} ${RUNNING} ${isPlay ? animationRefWithOrder[currentIndex].forward : animationRefWithOrder[currentIndex].reverse}`\n      } : Object.assign(Object.assign({}, isPlay ? end : start), {\n        transition\n      });\n    });\n    setStyles(isPlay ? styles : [...styles].reverse());\n    setPlaying(!isPlaying);\n  };\n  return {\n    styles,\n    play: playRef.current,\n    isPlaying\n  };\n}\n\nexports.Animate = Animate;\nexports.AnimateGroup = AnimateGroup;\nexports.AnimateKeyframes = AnimateKeyframes;\nexports.useAnimate = useAnimate;\nexports.useAnimateGroup = useAnimateGroup;\nexports.useAnimateKeyframes = useAnimateKeyframes;","map":{"version":3,"sources":["/Users/zoe/Documents/Development/porfolio-options/definition-portfolio/portfolio/node_modules/react-simple-animate/dist/index.js"],"names":["Object","defineProperty","exports","value","React","require","calculateTotalDuration","duration","delay","overlay","isUndefined","val","undefined","getSequenceId","sequenceIndex","sequenceId","defaultValue","DEFAULT_DURATION","DEFAULT_EASE_TYPE","DEFAULT_DIRECTION","DEFAULT_FILLMODE","RUNNING","ALL","AnimateContext","createContext","animationStates","register","data","AnimateGroup","play","sequences","children","setAnimationStates","useState","animationsRef","useRef","useCallback","current","useEffect","sequencesToAnimate","Array","isArray","length","values","localAnimationState","reverse","reduce","previous","currentIndex","id","currentTotalDuration","totalDuration","pause","controlled","createElement","Provider","secToMs","ms","Animate","props","render","start","end","complete","onComplete","easeType","onCompleteTimeRef","style","setStyle","useContext","animationState","assign","transition","parseFloat","setTimeout","clearTimeout","camelCaseToDash","camelCase","replace","c","toLowerCase","generateKeyframes","keyframes","animationLength","keyframe","keyframePercentage","toFixed","keys","isNaN","keyframeContent","acc","key","createStyle","animationName","createTag","styleTag","document","querySelector","index","setAttribute","head","appendChild","sheet","cssRules","e","insertRule","console","error","deleteRules","deleteName","findIndex","name","deleteRule","createRandomName","Math","random","toString","substr","getPlayState","AnimateKeyframes","direction","fillMode","iterationCount","pauseValue","animationNameRef","forward","styleTagRef","animateState","forceUpdate","result","animation","useAnimate","useMemo","animate","setAnimate","isPlaying","useAnimateKeyframes","setIsPlaying","isPaused","setIsPaused","playRef","isPlay","createArrayWithNumbers","from","useAnimateGroup","defaultArray","map","_","styles","setStyles","setPlaying","animationNamesRef","forEach","i","animationRefWithOrder","delayDuration"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar React = require('react');\n\nvar calculateTotalDuration = ({ duration = 0.3, delay = 0, overlay = 0, }) => duration + delay - overlay || 0;\n\nvar isUndefined = (val) => val === undefined;\n\nfunction getSequenceId(sequenceIndex, sequenceId, defaultValue) {\r\n    if (isUndefined(sequenceId) && isUndefined(sequenceIndex)) {\r\n        return defaultValue || 0;\r\n    }\r\n    if (sequenceIndex && sequenceIndex >= 0) {\r\n        return sequenceIndex;\r\n    }\r\n    if (sequenceId) {\r\n        return sequenceId;\r\n    }\r\n    return 0;\r\n}\n\nconst DEFAULT_DURATION = 0.3;\r\nconst DEFAULT_EASE_TYPE = 'linear';\r\nconst DEFAULT_DIRECTION = 'normal';\r\nconst DEFAULT_FILLMODE = 'none';\r\nconst RUNNING = 'running';\r\nconst ALL = 'all';\n\nconst AnimateContext = React.createContext({\r\n    animationStates: {},\r\n    register: (data) => { },\r\n});\r\nfunction AnimateGroup({ play, sequences = [], children, }) {\r\n    const [animationStates, setAnimationStates] = React.useState({});\r\n    const animationsRef = React.useRef({});\r\n    const register = React.useCallback((data) => {\r\n        const { sequenceIndex, sequenceId } = data;\r\n        if (!isUndefined(sequenceId) || !isUndefined(sequenceIndex)) {\r\n            animationsRef.current[getSequenceId(sequenceIndex, sequenceId)] = data;\r\n        }\r\n    }, []);\r\n    React.useEffect(() => {\r\n        const sequencesToAnimate = Array.isArray(sequences) && sequences.length\r\n            ? sequences\r\n            : Object.values(animationsRef.current);\r\n        const localAnimationState = {};\r\n        (play ? sequencesToAnimate : [...sequencesToAnimate].reverse()).reduce((previous, { sequenceId, sequenceIndex, duration = DEFAULT_DURATION, delay, overlay, }, currentIndex) => {\r\n            const id = getSequenceId(sequenceIndex, sequenceId, currentIndex);\r\n            const currentTotalDuration = calculateTotalDuration({\r\n                duration,\r\n                delay,\r\n                overlay,\r\n            });\r\n            const totalDuration = currentTotalDuration + previous;\r\n            localAnimationState[id] = {\r\n                play,\r\n                pause: !play,\r\n                delay: currentIndex === 0\r\n                    ? delay || 0\r\n                    : delay\r\n                        ? previous + delay\r\n                        : previous,\r\n                controlled: true,\r\n            };\r\n            return totalDuration;\r\n        }, 0);\r\n        setAnimationStates(localAnimationState);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [play]);\r\n    return (React.createElement(AnimateContext.Provider, { value: { animationStates, register } }, children));\r\n}\n\nvar secToMs = (ms) => (ms || 0) * 1000;\n\nfunction Animate(props) {\r\n    const { play, children, render, start, end, complete = '', onComplete, delay = 0, duration = DEFAULT_DURATION, easeType = DEFAULT_EASE_TYPE, sequenceId, sequenceIndex, } = props;\r\n    const onCompleteTimeRef = React.useRef();\r\n    const [style, setStyle] = React.useState(start || {});\r\n    const { register, animationStates = {} } = React.useContext(AnimateContext);\r\n    const id = getSequenceId(sequenceIndex, sequenceId);\r\n    React.useEffect(() => {\r\n        if ((!isUndefined(sequenceIndex) && sequenceIndex >= 0) || sequenceId) {\r\n            register(props);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    React.useEffect(() => {\r\n        const animationState = animationStates[id] || {};\r\n        setStyle(Object.assign(Object.assign({}, (play || animationState.play ? end : start)), { transition: `${ALL} ${duration}s ${easeType} ${parseFloat(animationState.delay || delay)}s` }));\r\n        if (play && (complete || onComplete)) {\r\n            onCompleteTimeRef.current = setTimeout(() => {\r\n                complete && setStyle(complete);\r\n                onComplete && onComplete();\r\n            }, secToMs(parseFloat(animationState.delay || delay) + duration));\r\n        }\r\n        return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\r\n    }, [\r\n        id,\r\n        animationStates,\r\n        play,\r\n        duration,\r\n        easeType,\r\n        delay,\r\n        onComplete,\r\n        start,\r\n        end,\r\n        complete,\r\n    ]);\r\n    return render ? render({ style }) : React.createElement(\"div\", { style: style }, children);\r\n}\n\nvar camelCaseToDash = (camelCase) => camelCase ? camelCase.replace(/[A-Z]/g, c => `-${c.toLowerCase()}`) : '';\n\nconst generateKeyframes = keyframes => {\r\n    const animationLength = keyframes.length;\r\n    return keyframes.reduce((previous, keyframe, currentIndex) => {\r\n        const keyframePercentage = animationLength === 2\r\n            ? currentIndex * 100\r\n            : parseFloat((100 / (animationLength - 1)).toFixed(2)) * currentIndex;\r\n        if (typeof keyframe === 'string') {\r\n            return `${previous} ${keyframePercentage}% {${keyframe}}`;\r\n        }\r\n        const keys = Object.keys(keyframe);\r\n        if (keys.length && isNaN(+keys[0])) {\r\n            const keyframeContent = keys.reduce((acc, key) => `${acc} ${camelCaseToDash(key)}: ${keyframe[key]};`, '');\r\n            return `${previous} ${keyframePercentage}% {${keyframeContent}}`;\r\n        }\r\n        return `${previous} ${Object.keys(keyframe)[0]}% {${Object.values(keyframe)[0]}}`;\r\n    }, '');\r\n};\r\nfunction createStyle({ keyframes, animationName, }) {\r\n    return `@keyframes ${animationName} {${generateKeyframes(keyframes)}}`;\r\n}\n\nfunction createTag({ keyframes, animationName, }) {\r\n    let styleTag = document.querySelector('style[data-id=rsi]');\r\n    let index;\r\n    if (!styleTag) {\r\n        styleTag = document.createElement('style');\r\n        styleTag.setAttribute('data-id', 'rsi');\r\n        document.head.appendChild(styleTag);\r\n    }\r\n    try {\r\n        // @ts-ignore\r\n        index = styleTag.sheet.cssRules.length;\r\n    }\r\n    catch (e) {\r\n        index = 0;\r\n    }\r\n    try {\r\n        // @ts-ignore\r\n        styleTag.sheet.insertRule(createStyle({\r\n            keyframes,\r\n            animationName,\r\n        }), index);\r\n    }\r\n    catch (e) {\r\n        console.error('react simple animate, error found during insert style ', e); // eslint-disable-line no-console\r\n    }\r\n    return {\r\n        styleTag,\r\n        index,\r\n    };\r\n}\n\nvar deleteRules = (sheet, deleteName) => {\r\n    const index = Object.values(sheet.cssRules).findIndex(({ name }) => name === deleteName);\r\n    if (index >= 0) {\r\n        sheet.deleteRule(index);\r\n    }\r\n};\n\nvar createRandomName = () => `RSI-${Math.random()\r\n    .toString(36)\r\n    .substr(2, 9)}`;\n\nvar getPlayState = (pause) => (pause ? 'paused' : RUNNING);\n\nfunction AnimateKeyframes(props) {\r\n    const { children, play = false, pause = false, render, duration = DEFAULT_DURATION, delay = 0, easeType = DEFAULT_EASE_TYPE, direction = DEFAULT_DIRECTION, fillMode = DEFAULT_FILLMODE, iterationCount = 1, sequenceIndex, keyframes, sequenceId, } = props;\r\n    let pauseValue;\r\n    const animationNameRef = React.useRef({\r\n        forward: '',\r\n        reverse: '',\r\n    });\r\n    const controlled = React.useRef(false);\r\n    const styleTagRef = React.useRef({\r\n        forward: { sheet: {} },\r\n        reverse: { sheet: {} },\r\n    });\r\n    const id = getSequenceId(sequenceIndex, sequenceId);\r\n    const { register, animationStates = {} } = React.useContext(AnimateContext);\r\n    const animateState = animationStates[id] || {};\r\n    const [, forceUpdate] = React.useState(false);\r\n    React.useEffect(() => {\r\n        const styleTag = styleTagRef.current;\r\n        const animationName = animationNameRef.current;\r\n        animationNameRef.current.forward = createRandomName();\r\n        let result = createTag({\r\n            animationName: animationNameRef.current.forward,\r\n            keyframes,\r\n        });\r\n        animationNameRef.current.reverse = createRandomName();\r\n        styleTagRef.current.forward = result.styleTag;\r\n        result = createTag({\r\n            animationName: animationNameRef.current.reverse,\r\n            keyframes: keyframes.reverse(),\r\n        });\r\n        styleTagRef.current.reverse = result.styleTag;\r\n        register(props);\r\n        if (play) {\r\n            forceUpdate(true);\r\n        }\r\n        return () => {\r\n            deleteRules(styleTag.forward.sheet, animationName.forward);\r\n            deleteRules(styleTag.reverse.sheet, animationName.reverse);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    if (animateState.controlled && !controlled.current) {\r\n        pauseValue = animateState.pause;\r\n        if (!animateState.pause) {\r\n            controlled.current = true;\r\n        }\r\n    }\r\n    else {\r\n        pauseValue = pause;\r\n    }\r\n    const style = {\r\n        animation: `${duration}s ${easeType} ${animateState.delay || delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(pauseValue)} ${((animateState.controlled ? animateState.play : play)\r\n            ? animationNameRef.current.forward\r\n            : animationNameRef.current.reverse) || ''}`,\r\n    };\r\n    return render ? render({ style }) : React.createElement(\"div\", { style: style || {} }, children);\r\n}\n\nfunction useAnimate(props) {\r\n    const { start, end, complete, onComplete, delay = 0, duration = DEFAULT_DURATION, easeType = DEFAULT_EASE_TYPE, } = props;\r\n    const transition = React.useMemo(() => `${ALL} ${duration}s ${easeType} ${delay}s`, [duration, easeType, delay]);\r\n    const [animate, setAnimate] = React.useState({\r\n        isPlaying: false,\r\n        style: Object.assign(Object.assign({}, start), { transition }),\r\n    });\r\n    const { isPlaying, style } = animate;\r\n    const onCompleteTimeRef = React.useRef();\r\n    React.useEffect(() => {\r\n        if ((onCompleteTimeRef.current || complete) && isPlaying) {\r\n            onCompleteTimeRef.current = setTimeout(() => {\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n                if (complete) {\r\n                    setAnimate(Object.assign(Object.assign({}, animate), { style: complete }));\r\n                }\r\n            }, secToMs(delay + duration));\r\n        }\r\n        return () => onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\r\n    }, [isPlaying]);\r\n    return {\r\n        isPlaying,\r\n        style,\r\n        play: React.useCallback((isPlaying) => {\r\n            setAnimate(Object.assign(Object.assign({}, animate), { style: Object.assign(Object.assign({}, (isPlaying ? end : start)), { transition }), isPlaying }));\r\n        }, []),\r\n    };\r\n}\n\nfunction useAnimateKeyframes(props) {\r\n    const { duration = DEFAULT_DURATION, delay = 0, easeType = DEFAULT_EASE_TYPE, direction = DEFAULT_DIRECTION, fillMode = DEFAULT_FILLMODE, iterationCount = 1, keyframes, } = props;\r\n    const animationNameRef = React.useRef({\r\n        forward: '',\r\n        reverse: '',\r\n    });\r\n    const styleTagRef = React.useRef({\r\n        forward: { sheet: {} },\r\n        reverse: { sheet: {} },\r\n    });\r\n    const { register } = React.useContext(AnimateContext);\r\n    const [isPlaying, setIsPlaying] = React.useState(null);\r\n    const [isPaused, setIsPaused] = React.useState(false);\r\n    const playRef = React.useRef();\r\n    React.useEffect(() => {\r\n        const styleTag = styleTagRef.current;\r\n        const animationName = animationNameRef.current;\r\n        animationNameRef.current.forward = createRandomName();\r\n        let result = createTag({\r\n            animationName: animationNameRef.current.forward,\r\n            keyframes,\r\n        });\r\n        styleTagRef.current.forward = result.styleTag;\r\n        animationNameRef.current.reverse = createRandomName();\r\n        result = createTag({\r\n            animationName: animationNameRef.current.reverse,\r\n            keyframes: keyframes.reverse(),\r\n        });\r\n        styleTagRef.current.reverse = result.styleTag;\r\n        register(props);\r\n        return () => {\r\n            deleteRules(styleTag.forward.sheet, animationName.forward);\r\n            deleteRules(styleTag.reverse.sheet, animationName.reverse);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    playRef.current = playRef.current\r\n        ? playRef.current\r\n        : (isPlay) => setIsPlaying(isPlay);\r\n    const style = {\r\n        animation: `${duration}s ${easeType} ${delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(isPaused)} ${isPlaying === null\r\n            ? ''\r\n            : isPlaying\r\n                ? animationNameRef.current.forward\r\n                : animationNameRef.current.reverse}`,\r\n    };\r\n    return {\r\n        style,\r\n        play: playRef.current,\r\n        pause: setIsPaused,\r\n        isPlaying: !!isPlaying,\r\n    };\r\n}\n\nfunction createArrayWithNumbers(length) {\r\n    return Array.from({ length }, () => null);\r\n}\n\nfunction useAnimateGroup(props) {\r\n    const { sequences = [] } = props;\r\n    const defaultArray = createArrayWithNumbers(sequences.length).map((_, index) => props.sequences[index].start);\r\n    const [styles, setStyles] = React.useState(defaultArray);\r\n    const [isPlaying, setPlaying] = React.useState(false);\r\n    const animationNamesRef = React.useRef([]);\r\n    const styleTagRef = React.useRef([]);\r\n    const playRef = React.useRef();\r\n    React.useEffect(() => {\r\n        sequences.forEach(({ keyframes = false }, i) => {\r\n            if (!Array.isArray(keyframes)) {\r\n                return;\r\n            }\r\n            if (!animationNamesRef.current[i]) {\r\n                animationNamesRef.current[i] = {};\r\n                styleTagRef.current[i] = {};\r\n            }\r\n            animationNamesRef.current[i].forward = createRandomName();\r\n            let result = createTag({\r\n                animationName: animationNamesRef.current[i].forward,\r\n                keyframes,\r\n            });\r\n            styleTagRef.current[i].forward = result.styleTag;\r\n            animationNamesRef.current[i].reverse = createRandomName();\r\n            result = createTag({\r\n                animationName: animationNamesRef.current[i].reverse,\r\n                keyframes: keyframes.reverse(),\r\n            });\r\n            styleTagRef.current[i].reverse = result.styleTag;\r\n        });\r\n        return () => Object.values(animationNamesRef).forEach(({ forward, reverse }, i) => {\r\n            if (!styleTagRef[i]) {\r\n                return;\r\n            }\r\n            deleteRules(styleTagRef[i].sheet, forward);\r\n            deleteRules(styleTagRef[i].sheet, reverse);\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    playRef.current = playRef.current\r\n        ? playRef.current\r\n        : (isPlay) => {\r\n            let totalDuration = 0;\r\n            const animationRefWithOrder = isPlay\r\n                ? animationNamesRef.current\r\n                : [...animationNamesRef.current].reverse();\r\n            const styles = (isPlay ? sequences : [...sequences].reverse()).map((current, currentIndex) => {\r\n                const { duration = DEFAULT_DURATION, delay = 0, overlay, keyframes, iterationCount = 1, easeType = DEFAULT_EASE_TYPE, direction = DEFAULT_DIRECTION, fillMode = DEFAULT_FILLMODE, end = {}, start = {}, } = current;\r\n                const delayDuration = currentIndex === 0 ? delay : totalDuration;\r\n                const transition = `${ALL} ${duration}s ${easeType} ${delayDuration}s`;\r\n                totalDuration =\r\n                    calculateTotalDuration({ duration, delay, overlay }) +\r\n                        totalDuration;\r\n                return keyframes\r\n                    ? {\r\n                        animation: `${duration}s ${easeType} ${delayDuration}s ${iterationCount} ${direction} ${fillMode} ${RUNNING} ${isPlay\r\n                            ? animationRefWithOrder[currentIndex].forward\r\n                            : animationRefWithOrder[currentIndex].reverse}`,\r\n                    }\r\n                    : Object.assign(Object.assign({}, (isPlay ? end : start)), { transition });\r\n            });\r\n            setStyles(isPlay ? styles : [...styles].reverse());\r\n            setPlaying(!isPlaying);\r\n        };\r\n    return { styles, play: playRef.current, isPlaying };\r\n}\n\nexports.Animate = Animate;\nexports.AnimateGroup = AnimateGroup;\nexports.AnimateKeyframes = AnimateKeyframes;\nexports.useAnimate = useAnimate;\nexports.useAnimateGroup = useAnimateGroup;\nexports.useAnimateKeyframes = useAnimateKeyframes;\n"]},"metadata":{},"sourceType":"script"}